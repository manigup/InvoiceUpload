<Dialog
    id="_IDGenDialog1"
    xmlns:f="sap.ui.layout.form"
    xmlns:upload="sap.m.upload"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    draggable="true"
    contentWidth="350px"
    contentHeight="400px"
    afterClose="onDialogClose"
    title="Edit Invoice - {EditModel>/InvoiceNumber}"
    titleAlignment="Center"
>
    <content>
        <f:SimpleForm
            id="_IDGenSimpleForm1"
            editable="true"
            layout="ResponsiveGridLayout"
        >
            <Label
                id="_IDGenLabel1"
                required="true"
                design="Bold"
                text="Invoice Date"
            />
            <DatePicker
                id="invDate"
                valueFormat="yyyyMMdd"
                value="{EditModel>/InvoiceDate}"
            />
            <Label
                id="_IDGenLabel2"
                required="true"
                design="Bold"
                text="Invoice Number"
            />
            <Input
                id="invNo"
                value="{EditModel>/InvoiceNumber}"
                enabled="false"
            />
            <Label
                id="_IDGenLabel3"
                required="true"
                design="Bold"
                text="Total Invoice Amount"
            />
            <Input
                id="invAmmount"
                type="Number"
                value="{EditModel>/TotalInvoiceAmount}"
            />
            <Label
                id="_IDGenLabel4"
                required="true"
                design="Bold"
                text="GST"
            />
            <Input
                id="gst"
                type="Number"
                value="{EditModel>/GST}"
            />
            <Label
                id="_IDGenLabel110"
                required="true"
                design="Bold"
                text="Plant Code"
            />
            <Select
                id="pCode"
                forceSelection="false"
                selectedKey="{EditModel>/PlantCode}"
                items="{CodeDetails>/}"
                enabled="false"
            >
                <core:Item
                    id="_IDGenItem5"
                    key="{CodeDetails>code}"
                    text="{CodeDetails>code}"
                />
            </Select>
            <Label
                id="_IDGenLabel5"
                required="true"
                design="Bold"
                text="Invoice Type"
            />
            <Select
                id="invType"
                selectedKey="{EditModel>/InvoiceType}"
                forceSelection="false"
                change="setHodApprover($event,'E')"
            >
                <core:Item
                    id="_IDGenItem1"
                    key="Domestic Service Procurement"
                    text="Domestic Service Procurement"
                />
            </Select>
            <Label
                id="_IDGenLabel11"
                required="true"
                design="Bold"
                text="Service"
            />
            <Input
                id="service"
                showValueHelp="true"
                valueHelpOnly="true"
                value="{EditModel>/Service}"
                valueHelpRequest="onValueHelpRequest"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
            />
            <Label
                id="_IDGenLabel10"
                required="true"
                design="Bold"
                text="Service Group"
            />
            <Input
                id="serviceGroup"
                value="{EditModel>/ServiceGroup}"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
                enabled="false"
            />
            <Label
                id="_IDGenLabel9"
                required="true"
                design="Bold"
                text="Department"
            />
            <Input
                id="dept"
                value="{EditModel>/Department}"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
                enabled="false"
            />
            <!-- <Label
                id="_IDGenLabel9"
                required="true"
                design="Bold"
                text="Department"
            />
            <ComboBox
                id="dept"
                selectedKey="{EditModel>/Department}"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
                items="{/Department}"
                change="setHodApprover($event,'E')"
            >
                <core:Item
                    id="_IDGenItem2"
                    key="{DeptName}"
                    text="{DeptName}"
                />
            </ComboBox>
            <Label
                id="_IDGenLabel10"
                required="true"
                design="Bold"
                text="Service Group"
            />
            <ComboBox
                id="serviceGroup"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
                items="{/ServiceGroup}"
                selectedKey="{EditModel>/ServiceGroup}"
                change="onServiceGroupChange"
            >
                <core:Item
                    id="_IDGenItem3"
                    key="{GroupName}"
                    text="{GroupName}"
                />
            </ComboBox>
            <Label
                id="_IDGenLabel11"
                required="true"
                design="Bold"
                text="Service"
            />
            <ComboBox
                id="service"
                visible="{= ${EditModel>/InvoiceType} === 'Domestic Service Procurement'}"
                items="{ServiceModel>/}"
                selectedKey="{EditModel>/Service}"
            >
                <core:Item
                    id="_IDGenItem4"
                    key="{ServiceModel>ServiceName}"
                    text="{ServiceModel>ServiceName}"
                />
            </ComboBox> -->
            <Label
                id="_IDGenLabel6"
                required="true"
                design="Bold"
                text="Upload Reason without PO"
            />
            <TextArea
                growing="true"
                id="reason"
                value="{EditModel>/Reason}"
            />
            <Label
                id="_IDGenLabel8"
                design="Bold"
                required="true"
                text="Purchase L1 Approver"
            />
            <Input
                id="L1Approver"
                value="{EditModel>/L1HodApprover}"
                enabled="false"
            />
            <Label
                id="_IDGenLabel101"
                design="Bold"
                required="true"
                text="Purchase L2 Approver"
            />
            <Input
                id="L2Approver"
                value="{EditModel>/L2HodApprover}"
                enabled="false"
                visible="{= ${EditModel>/L2HodApprover} !== undefined &amp;&amp; ${EditModel>/InvoiceType} === 'Domestic Service Procurement' &amp;&amp; (parseInt(${EditModel>/TotalInvoiceAmount}) === 200000 || parseInt(${EditModel>/TotalInvoiceAmount}) >= 2000000)}"
            />
            <Label
                id="_IDGenLabel102"
                design="Bold"
                required="true"
                text="Purchase L3 Approver"
            />
            <Input
                id="L3Approver"
                value="{EditModel>/L3HodApprover}"
                enabled="false"
                visible="{= ${EditModel>/L3HodApprover} !== undefined &amp;&amp; ${EditModel>/InvoiceType} === 'Domestic Service Procurement' &amp;&amp; (parseInt(${EditModel>/TotalInvoiceAmount}) &gt; 2000000)}"
            />
            <Label
                id="_IDGenLabel130"
                design="Bold"
                required="true"
                text="Finance Approver"
            />
            <Input
                id="finApprover"
                value="{EditModel>/FinanceApprover}"
                enabled="false"
            />
            <!-- <Label
                id="_IDGenLabel8"
                design="Bold"
                text="Approver"
            />
            <Input
                id="hod"
                value="{EditModel>/HodApprover}"
                enabled="false"
            /> -->
            <Label
                id="_IDGenLabel7"
                required="true"
                design="Bold"
                text="Attachment"
            />
            <upload:UploadSet
                id="attachment"
                mode="None"
                showIcons="false"
                fileTypes="pdf,xlsx,doc,png,jpeg"
                multiple="true"
                maxFileSize="10"
                uploadCompleted="onAttachmentUploadComplete"
                beforeUploadStarts="onBeforeUploadStarts"
                uploadButtonInvisible="false"
                afterItemAdded="onAttachItemAdd"
                items="{AttachmentModel>/}"
            >
                <upload:items>
                    <upload:UploadSetItem
                        id="_IDGenUploadSetItem1"
                        fileName="{AttachmentModel>Filename}"
                        mediaType="{AttachmentModel>Mediatype}"
                        visibleEdit="false"
                        visibleRemove="false"
                    />
                </upload:items>
            </upload:UploadSet>
        </f:SimpleForm>
    </content>
    <beginButton>
        <Button
            id="_IDGenButton1"
            type="Emphasized"
            text="Submit"
            press="onEditPress"
        />
    </beginButton>
    <endButton>
        <Button
            id="_IDGenButton2"
            type="Reject"
            text="Cancel"
            press="onDialogCancel"
        />
    </endButton>
</Dialog>
