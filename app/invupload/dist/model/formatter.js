jQuery.sap.declare("formatter");formatter={formatDate:function(e){if(e&&e!=="00000000"){return sap.ui.core.format.DateFormat.getDateInstance({pattern:"MMM dd, yyyy"}).format(new Date(e.substring(4,6)+"/"+e.substring(6,8)+"/"+e.substring(0,4)))}else{return""}},dateFormat:function(e){if(e){return sap.ui.core.format.DateFormat.getDateInstance({pattern:"MMM dd, yyyy"}).format(new Date(e))}else{return""}},formatTime:function(e){if(e){return e.toLocaleTimeString()}else{return""}},formatStatus:function(e){var r="";if(e){switch(e){case"PL1":r="Purchase L1 Approval Pending";break;case"PL2":r="Purchase L2 Approval Pending";break;case"PL3":r="Purchase L3 Approval Pending";break;case"RL1":r="Rejected by Purchase L1";break;case"RL2":r="Rejected by Purchase L2";break;case"RL3":r="Rejected by Purchase L3";break;case"ABP":r="Approved by Purchase & Pending with Finance";break;case"ABF":r="Approved by Finance";break;case"RBF":r="Rejected by Finance";break}}return r},statusState:function(e){var r="None";if(e){switch(e){case"ABF":r="Success";break;case"PL1":case"PL2":case"PL3":case"ABP":r="Warning";break;default:r="Error";break}}return r},checkApprovalAccess:function(e,r,t,a){const n=this.getModel("FinModel").getData();if(e&&n.length>0&&(r||t||a)){if(e==="PL1"||e==="PL2"||e==="PL3"){if(e==="PL1"&&r.includes(sap.ui.getCore().loginEmail)){return true}else if(e==="PL2"&&t.includes(sap.ui.getCore().loginEmail)){return true}else if(e==="PL3"&&a.includes(sap.ui.getCore().loginEmail)){return true}else{return false}}else if(e==="ABP"&&n.findIndex(e=>e.Email.includes(sap.ui.getCore().loginEmail))!==-1){return true}else{return false}}else{return false}},invNoLink:function(e,r){if(e&&r){if((e==="RL1"||e==="RL2"||e==="RL3"||e==="RBF")&&sap.ui.getCore().loginEmail===r){return true}else{return false}}else{return false}},addBtnVisible:function(){if(this.getModel().getHeaders().loginType==="P"){return true}else{return false}}};